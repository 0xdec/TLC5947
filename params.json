{"name":"TLC5947","tagline":"A Texas Instruments TLC5947 library for AVR-G++","body":"# TLC5947 Library for AVR-G++\r\n\r\n## Features\r\n- Supports up to 255 daisy-chained chips.\r\n- Allows for enabling or disabling all outputs simultaneously.\r\n- Uses hardware SPI so that you can get the most out of 16MHz.\r\n\r\n## Physical Constraints\r\nThe TLC5947 has 12 bits of resolution for each of its 24 channels. Each channel is a constant-current sink, meaning that it cannot source any current. It also does not matter what voltage is applied to the pins, you can run the LEDS from up to 30V.\r\n\r\nIf you are daisy-chaining more than one TLC5947, connect the SOUT of the first TLC to the SIN of the next.  All the other pins should just be connected together. The one exception is that each TLC needs it's own resistor between  pin 31 and GND.\r\n\r\n- The 1k resistor between TLC pin 31 and GND will let ~30mA through each LED. This is calculated by the equation I = 49.2 / R. This doesn't depend on the LED driving voltage.\r\n- (Optional): put a pull-up resistor (~10k) between BLANK and VCC so that all the LEDs will turn off when the AVR is reset.\r\n\r\n### Compatibility\r\nThis library uses SPI to communicate, so it may conflict with any other libraries use SPI.\r\n\r\n## Functions:\r\n\r\n### TLC5947()\r\nThe constructor for the TLC5947 library. If no pins are specified, the chip will default to whatever pins you chose for the first one.\r\n\r\n### TLC5947(latch, blank)\r\nThe constructor for the TLC5947 library. You must specify a latch and blank pin for the first chip that is declared.\r\n#### Arguments\r\n- `latch`: The pin that this chip's latch control is connected to (e.g. PB5).\r\n- `blank`: The pin that this chip's blank control is connected to (e.g. PB3).\r\n\r\n### chipID()\r\nReturns the ID number of the current chip.\r\n\r\n### read(channel)\r\nReturns the current value of the specified channel.\r\n#### Arguments\r\n- `channel`: Channel to be read.\r\n\r\n### set(values[24])\r\nSets all channels based on the given array.\r\n#### Arguments\r\n- `values[24]`: Brightness values for all channels. Range is [0-4095].\r\n\r\n### set(value)\r\nSets all channels to the same value.\r\n#### Arguments\r\n- `value`: Brightness value for all channels. Range is [0-4095].\r\n\r\n### set(channel, value)\r\nSets one channel to the specified value.\r\n#### Arguments\r\n- `channel`: Channel to be set.\r\n- `value`: Brightness value for the channel. Range is [0-4095].\r\n\r\n### clear()\r\nSets all channels to 0.\r\n\r\n### enable()\r\nEnable the chip by pulling the BLANK pin low.\r\n\r\n### disable()\r\nDisable the chip by pulling the BLANK pin high.\r\n\r\n### latch()\r\nLatches the data to the outputs.\r\n\r\n## Static Functions\r\n\r\n### numChips()\r\nReturns the total number of chips.\r\n\r\n### setAll(value);\r\nSets all channels on all chips to the specified value.\r\n#### Arguments\r\n- `value`: Brightness value for the channel. Range is [0-4095].\r\n\r\n### clearAll()\r\nSets all channels on all chips to 0.\r\n\r\n### enableSPI()\r\nEnable the SPI interface.\r\n\r\n### disableSPI()\r\nDisable the SPI interface.\r\n\r\n### send()\r\nShifts the data out to the chips.\r\n\r\n### update()\r\nCalls enableSPI() if needed, then send() and latch(). This is all you should use unless your application requires finer control.\r\n\r\n### shift(shift, value);\r\nShifts all data in all chips by the given number of channels. If value is left blank, a circular shift is performed, whereby the data being shifted out of the end gets added back to the beginning.\r\n#### Arguments\r\n- `shift`: Number of channels to shift data by. Defaults to 1.\r\n- `value`: Brightness value to be shifted in. Range is [0-4095].\r\n\r\n## TODO\r\n- [ ] Fix the code for shifting an odd number of channels\r\n- [ ] Do a check for duplicate pins when calling `update()`\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}